package admin

import (
	gt "{{name}}/admin/get"
	pt "{{name}}/admin/post"

	. "github.com/gogufo/gufo-api-gateway/gufodao"
	pb "github.com/gogufo/gufo-api-gateway/proto/go"
)

func Init(t *pb.Request) *pb.Response {
	if t.ParamID == nil {
		return ErrorReturn(t, 400, "000400", "Missing action")
	}

	switch *t.ParamID {
	case "cronstatus":
		return gt.CheckCron(t)
	case "cron":
		return pt.UpdateCron(t)
	default:
		return ErrorReturn(t, 404, "000404", "Unknown admin action")
	}
}
